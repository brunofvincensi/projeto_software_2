<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow-sm" style="width: 100%; max-width: 500px;">
    <div class="card-header bg-primary text-white text-center py-3">
      <h4><i class="bi bi-person-plus me-2"></i>Criar conta no PetConnect</h4>
    </div>
    <div class="card-body p-4">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>

        <!-- Nome Completo -->
        <div class="mb-3">
          <label class="form-label">Nome Completo</label>
          <input type="text" class="form-control" formControlName="nome"
                 [class.is-invalid]="registerForm.get('nome')?.invalid && registerForm.get('nome')?.touched">
          <div class="invalid-feedback">
            Por favor, insira seu nome completo.
          </div>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" formControlName="email"
                 [class.is-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
          <div class="invalid-feedback">
            Por favor, insira um email válido.
          </div>
        </div>

        <!-- Telefone -->
        <div class="mb-3">
          <label class="form-label">Telefone</label>
          <input type="tel" class="form-control" formControlName="telefone"
                 placeholder="(00) 00000-0000" [class.is-invalid]="registerForm.get('telefone')?.invalid && registerForm.get('telefone')?.touched">
          <div class="invalid-feedback">
            Por favor, insira seu telefone
          </div>
        </div>

        <!-- Data de nascimento -->
        <div class="mb-3">
          <label for="dataNascimento" class="form-label">Data de Nascimento</label>
          <input
            type="date"
            class="form-control"
            id="dataNascimento"
            formControlName="dataNascimento"
            [class.is-invalid]="registerForm.get('dataNascimento')?.invalid && registerForm.get('dataNascimento')?.touched"
            [max]="maxDate | date:'yyyy-MM-dd'"
          >
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('dataNascimento')?.hasError('required')">
              Data de nascimento obrigatória
            </span>
            <span *ngIf="registerForm.get('dataNascimento')?.hasError('idadeMinima')">
              É necessário ter pelo menos 13 anos
            </span>
          </div>
        </div>

        <!-- Senha -->
        <div class="mb-3">
          <label class="form-label">Senha</label>
          <input type="password" class="form-control" formControlName="senha"
                 [class.is-invalid]="registerForm.get('senha')?.invalid && registerForm.get('senha')?.touched">
          <div class="invalid-feedback">
            A senha deve ter pelo menos 6 caracteres.
          </div>
        </div>

        <!-- Confirmação de Senha -->
        <div class="mb-4">
          <label class="form-label">Confirmar Senha</label>
          <input type="password" class="form-control" formControlName="confirmSenha"
                 [class.is-invalid]="registerForm.hasError('mismatch')">
          <div *ngIf="registerForm.hasError('mismatch')" class="invalid-feedback">
            As senhas não coincidem.
          </div>
        </div>

        <!-- Botão de Submit -->
        <button type="submit" class="btn btn-primary w-100 py-2 mb-3" [disabled]="registerForm.invalid">
          <i class="bi bi-person-check me-2"></i>Cadastrar
        </button>

        <!-- Link para Login -->
        <div class="text-center">
          <span>Já tem conta? </span>
          <a routerLink="/login" class="text-decoration-none">Faça login</a>
        </div>
      </form>
      <div *ngIf="errorMessage" class="alert alert-danger mt-3">
        <i class="bi bi-exclamation-circle-fill me-2"></i>
        {{ errorMessage }}
      </div>
    </div>
  </div>
</div>
